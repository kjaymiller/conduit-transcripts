{% extends "layout.html" %}

{% block title %}Episode {{ episode.episode_number }} - Conduit Transcripts{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <a href="/episodes" class="text-blue-400 hover:text-blue-300 mb-6 inline-block">
        &larr; Back to Episodes
    </a>

    <div class="bg-gray-800 border border-gray-700 rounded-lg p-8 mb-8">
        <h1 class="text-3xl font-bold text-white mb-4">
            Episode {{ episode.episode_number }}
        </h1>
        {% if episode.title %}
        <h2 class="text-2xl text-gray-300 mb-4">{{ episode.title }}</h2>
        {% endif %}
        {% if episode.description %}
        <p class="text-gray-400 mb-4">{{ episode.description }}</p>
        {% endif %}
        <div class="flex space-x-4 text-sm text-gray-500 mb-4">
            {% if episode.published_date %}
            <span>Published: {{ episode.published_date.strftime('%B %d, %Y') if episode.published_date else 'Unknown' }}</span>
            {% endif %}
            {% if episode.chunks %}
            <span>{{ episode.chunks|length }} chunks</span>
            {% endif %}
        </div>
        {% if episode.url %}
        <a href="{{ episode.url }}" target="_blank" class="inline-flex items-center text-blue-400 hover:text-blue-300 text-sm">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
            Listen to Episode
        </a>
        {% endif %}
    </div>

    {% if transcript %}
    <div class="bg-gray-800 border border-gray-700 rounded-lg p-8">
        <h3 class="text-xl font-semibold text-white mb-6">Transcript</h3>
        <div class="prose prose-invert max-w-none">
            <pre class="whitespace-pre-wrap text-gray-300 text-sm leading-relaxed">{{ transcript }}</pre>
        </div>
    </div>
    {% else %}
    <div class="text-center py-12 bg-gray-800 border border-gray-700 rounded-lg">
        <p class="text-gray-400">No transcript content available.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
