# Conduit Podcast Transcripts

This is an archive of transcriptions generated by Whisper, Audio Hijack, and related tools meant to be used as a source of data.

The text is from the [Conduit Podcast](https://relay.fm/conduit)

## Getting Started

### Installation

This project uses `uv` for fast, reliable Python package management. To set up:

```bash
# Install uv if you don't have it
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install dependencies and create virtual environment
uv sync
```

### Environment Configuration

Load the environment variables:

```bash
# Using direnv (recommended)
direnv allow

# Or manually source the .envrc file
source .envrc
```

The `.envrc` file should contain connection strings for OpenSearch, PostgreSQL, and other configuration.

## Usage

The project provides a unified CLI tool called `conduit` for all operations.

### Transcription

Transcribe episodes from the Conduit website using OpenAI Whisper:

```bash
# Transcribe the latest episode
uv run conduit transcribe <episode_number>

# Transcribe and ingest (default)
uv run conduit transcribe <episode_number> --ingest

# Transcribe without ingestion
uv run conduit transcribe <episode_number> --no-ingest

# Use specific model size (tiny, base, small, medium, large)
uv run conduit transcribe <episode_number> --model medium
```

### Data Ingestion

Load transcripts into PostgreSQL and/or OpenSearch:

```bash
# Ingest all files in transcripts directory
uv run conduit ingest

# Ingest specific file
uv run conduit ingest --file transcripts/episode1.md

# Recreate tables/indexes before ingestion
uv run conduit ingest --reindex

# Ingest only to specific database
uv run conduit ingest --pg-only
uv run conduit ingest --os-only
```

### Search

Search through ingested transcripts:

```bash
# Text search (default)
uv run conduit search "search term"

# Vector semantic search
uv run conduit search "search phrase" --vector
```

### Management

```bash
# Check episode status
uv run conduit status <episode_number>

# List recent episodes
uv run conduit list
```

## Project Structure

- `apps/` - Web applications
  - `transcribe/` - Transcription and ingestion API
  - `mcp/` - Model Context Protocol server for RAG
- `cli/` - Command-line interface
- `conduit_transcripts/` - Shared library code
  - `database/` - Database operations (PostgreSQL, OpenSearch)
  - `models/` - SQLAlchemy models
  - `transcription/` - Transcription logic (Whisper, MLX)
  - `utils/` - Shared utilities
- `transcripts/` - Generated markdown files with metadata and transcriptions

## Troubleshooting

**Virtual environment issues**: Run `uv sync` and ensure you're using `uv run` or have activated the venv

**Missing environment variables**: Load `.envrc` with `direnv allow` or `source .envrc`

**Whisper model**: First run downloads the "base" model (~140MB) - requires network access

**Database connection**: Services are on Aiven; verify credentials and network access

## Technology Stack

- Python 3.12+
- OpenAI Whisper (transcription)
- LangChain (text processing)
- PostgreSQL with pgvector extension
- OpenSearch (vector search)
- SQLAlchemy (ORM)
- Typer (CLI framework)

## Usage and License

<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://github.com/kjaymiller/conduit-transcripts">Conduit Podcast Transcripts</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://relay.fm/conduit">Jay Miller, Kathy Campbell, original downloads from whisper work done by Pilix</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution-NonCommercial-ShareAlike 4.0 International<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
